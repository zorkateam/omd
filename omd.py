# Guido van Rossum <guido@python.org>
import random


def dec_step(decorated_function):
    def wrapper():
        choice = {'step2_no_umbrella':
                        """–°—ã–Ω —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç —É –ø–∞–ø—ã - –ü–∞–ø, —á—Ç–æ —Ç–∞–∫–æ–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞? –¢–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç:
                        - –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Ç—ã –∑–∞—Ö–æ—Ç–µ–ª –ø–æ–µ—Å—Ç—å –∏ –ø–æ–∂–∞—Ä–∏–ª —Å–µ–±–µ —è–∏—á–Ω–∏—Ü—É, –∞ –≤–µ–¥—å –º–æ–≥
                        –µ–µ –Ω–µ –µ—Å—Ç—å, –∑–∞–≤–µ—Ä–Ω—É—Ç—å —è–π—Ü–∞ –≤ –º–∞—Ä–ª—é, –æ–±–ª–æ–∂–∏—Ç—å –≤–∞—Ç–æ–π –∏ –ø–æ–ª–æ–∂–∏—Ç—å –ø–æ–¥ –ª–∞–º–ø–æ–π.
                        –ß–µ—Ä–µ–∑ –∫–∞–∫–∏—Ö-—Ç–æ 2-3 –Ω–µ–¥–µ–ª–∏ —É —Ç–µ–±—è –ø–æ—è–≤–∏–ª–∏—Å—å –±—ã 2 –∫—É—Ä–æ—á–∫–∏ –∏ –ø–µ—Ç—É—à–æ–∫. –¢—ã –±—ã
                        –∑–∞ –Ω–∏–º–∏ —É—Ö–∞–∂–∏–≤–∞–ª, —Ä–∞—Å—Ç–∏–ª, –∫–æ—Ä–º–∏–ª –∏ —á–µ—Ä–µ–∑ –ø–æ–ª–≥–æ–¥–∏–∫–∞ —É —Ç–µ–±—è –±—ã —É–∂–µ –±—ã–ª
                        –∏–Ω–∫—É–±–∞—Ç–æ—Ä –¥–æ–º–∞, –≤–µ–∑–¥–µ –±—ã –±–µ–≥–∞–ª–∏ –∫—É—Ä—ã –∏ –ø–µ—Ç—É—Ö–∏, —á–µ—Ä–µ–∑ –µ—â–µ –≥–æ–¥–∏–∫ —É —Ç–µ–±—è –±—ã
                        —É–∂–µ –±—ã–ª–∞ –º–∞–ª–µ–Ω—å–∫–∞—è —Ñ–µ—Ä–º–∞, —á–µ—Ä–µ–∑ 2 –≥–æ–¥–∞ –±–æ–ª—å—à–∞—è –ø—Ç–∏—Ü–µ—Ñ–∞–±—Ä–∏–∫–∞, —á–µ—Ä–µ–∑ 5 –ª–µ—Ç
                        —Ç—ã —Å–∞–º—ã–π –±–æ–ª—å—à–æ–π –∏–º–ø–æ—Ä—Ç–µ—Ä –∫—É—Ä—è—Ç–∏–Ω—ã –≤–æ –≤—Å–µ —Å—Ç—Ä–∞–Ω—ã –º–∏—Ä–∞. –ù–æ –≤ –æ–¥–∏–Ω
                        –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –¥–µ–Ω—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å—Ç—Ä–∞—à–Ω—ã–π —É—Ä–∞–≥–∞–Ω, –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏–µ, –∏ –≤—Å–µ—Ö —Ç–≤–æ–∏—Ö –∫—É—Ä
                        –Ω–∞—Ö–µ—Ä —Å–º—ã–≤–∞–µ—Ç.
                        - –ü–∞–ø–∞, —Ç–∞–∫ –≤ —á–µ–º –∂–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞?
                        - ü¶Ü –£—Ç–∫–∏! """,
                  'step2_umbrella': '–°–ª–∞–≤–∞ —É—Ç–∫–µ —è –≤–∑—è–ª–∞ –∑–æ–Ω—Ç!'}

        rain_chance = random.random()
        print(f'–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –¥–æ–∂–¥—è: {100 * rain_chance:2.0f}%.')
        decorated_function()
        if rain_chance > 0.8:
            print('–ù–∞—á–∞–ª—Å—è –ª–∏–≤–µ–Ω—å.')
            print(choice[decorated_function.__name__])
        else:
            print('–ü–æ—Ö–æ–∂–µ, —á—Ç–æ –≤ —ç—Ç–æ–º –±–∞—Ä–µ —è –≤—Å–µ –≤—ã–ø–∏–ª–∞, –ø–æ—Ä–∞ –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ.\n')
            step1()
    return wrapper


@dec_step
def step2_umbrella():
    print('–ö–∞–∂–µ—Ç—Å—è –¥–æ–∂–¥—å —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è.')


@dec_step
def step2_no_umbrella():
    print('–ú–Ω–µ –ø–æ–≤–µ–∑–µ—Ç! –ù–∞–¥–µ—é—Å—å, –¥–æ–∂–¥—è –Ω–µ –±—É–¥–µ—Ç.')


def step1():
    print(
        '–£—Ç–∫–∞-–º–∞–ª—è—Ä ü¶Ü —Ä–µ—à–∏–ª–∞ –∑–∞–π—Ç–∏ –≤—ã–ø–∏—Ç—å –≤ –±–∞—Ä. '
        '–í–∑—è—Ç—å –µ–π –∑–æ–Ω—Ç–∏–∫? ‚òÇÔ∏è'
    )
    option = ''
    options = {'–¥–∞': True, '–Ω–µ—Ç': False}
    while option not in options:
        print('–í—ã–±–µ—Ä–∏—Ç–µ: {}/{}'.format(*options))
        option = input()

    if options[option]:
        return step2_umbrella()
    return step2_no_umbrella()


if __name__ == '__main__':
    step1()